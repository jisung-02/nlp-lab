{% extends "base.html" %}
{% block title %}{% if is_en %}Research Areas | NLP Lab{% else %}연구 분야 | NLP Lab{% endif %}{% endblock %}
{% block body_class %}public-page public-projects{% endblock %}
{% block content %}
<section class="page-hero">
  <div class="container">
    <p class="eyebrow">{{ "Research Areas" if is_en else "연구 분야" }}</p>
    <h1>{{ "Research Areas" if is_en else "연구 분야" }}</h1>
    <p class="lead">
      {% if is_en %}Our work focuses on language understanding, retrieval, and dialogue systems.{% else
      %}자연어 이해, 검색, 대화 시스템을 중심으로 연구합니다.{% endif %}
    </p>
  </div>
</section>
<section class="page-content">
  <div class="container">
    <div
      class="list-controls"
      role="group"
      aria-label="{{ 'Project status filter' if is_en else '프로젝트 상태 필터' }}"
    >
      <a
        class="filter-chip {% if selected_status == 'all' %}is-active{% endif %}"
        href="{{ '/projects?lang=' ~ lang }}"
      >
        {{ "All" if is_en else "전체" }}
      </a>
      {% for project_status in project_statuses %}
      <a
        class="filter-chip {% if selected_status == project_status.value %}is-active{% endif %}"
        href="{{ '/projects?status=' ~ project_status.value ~ '&lang=' ~ lang }}"
      >
        {% if project_status.value == "ongoing" %}
        {{ "Ongoing" if is_en else "진행중" }}
        {% else %}
        {{ "Completed" if is_en else "완료" }}
        {% endif %}
      </a>
      {% endfor %}
    </div>
    {% if projects %}
    <div class="list-stack">
      {% for project in projects %}
      {% set localized_title = (project.title_en if is_en else project.title) or (project.title if is_en else project.title_en) %}
      {% set localized_summary = (project.summary_en if is_en else project.summary) or (project.summary if is_en else project.summary_en) %}
      <article class="stack-item">
        <p class="meta">
          {% if project.status.value == "ongoing" %}
          {{ "Ongoing" if is_en else "진행중" }}
          {% else %}
          {{ "Completed" if is_en else "완료" }}
          {% endif %}
          · {{ project.start_date }}{% if project.end_date %} ~ {{ project.end_date }}{% endif %}
        </p>
        <h3><a href="{{ '/projects/' ~ project.slug ~ '?lang=' ~ lang }}">{{ localized_title }}</a></h3>
        <p>{{ localized_summary }}</p>
        <a class="text-link" href="{{ '/projects/' ~ project.slug ~ '?lang=' ~ lang }}"
          >{{ "View Detail" if is_en else "상세 보기" }}</a
        >
      </article>
      {% endfor %}
    </div>
    {% else %}
    <p class="empty-state">{{ "No projects found." if is_en else "조회된 프로젝트가 없습니다." }}</p>
    {% endif %}
  </div>
</section>
{% endblock %}
